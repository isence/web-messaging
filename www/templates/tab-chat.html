<ion-view view-title="聊天室 {{ roomName }}">
    <ion-content>
        <ion-list ng-show="roomName">
            <ion-item class="item item-input-inset">
                <label class="item-input-wrapper">
                    <input type="text" ng-model="IM.textMessage" placeholder="输入消息...">
                </label>
                <!--传递输入内容-->
                <button ng-click="sendMessage(IM.textMessage)" class="button button-small button-balanced">
                    发送
                </button>
            </ion-item>
            <ion-item ng-hide="chats" class="textCenter">
                <i class="icon ion-loading-c"></i> Loading Chats
            </ion-item>
            <ion-item ng-if="chats.length == 0" class="textCenter">
                <h4>房间尚未消息，发一条开始吧</h4>
            </ion-item>
            <ion-item class="" ng-repeat="chat in chats | orderBy:'createdAt':true" type="item-text-wrap">
                <h4>{{chat.from}} :</h4>
                <span am-time-ago="chat.createdAt" class="item-note">
                </span>
                <p>{{chat.message}}</p>
                <ion-option-button class="button-assertive" ng-click="remove(chat)">
                    删除
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-list ng-hide="roomName">
            <ion-item class="textCenter">
                <h4>请先选择一个聊天室</h4>
            </ion-item>
        </ion-list>

    </ion-content>
</ion-view>
